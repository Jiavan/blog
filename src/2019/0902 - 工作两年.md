今天收到了试用期通过邮件，不知不觉已经来新公司已经半年，想想自己也正式工作 2 年多，职场也混了 3 年多了。

从 2016 年 6 月到现在，我经历了两家公司。小米和字节跳动，做的东西都是和电商相关的 C 端产品。这两段经历让我有一些感触，无论是企业文化还是在技术层面上。


### 学会尊重前人劳动成果

我一直是一个代码洁癖症患者，自己写的代码一定要很干净，静态代码检查不能有任何的 warning / error，我还会要求身边的人也要这样做。同时以前在小米的时候整个团队的编码风格也是很统一的，也有相对较严的 Code Review 机制。大家也比较准守规则，大部分情况下写出来的代码能像是出自一个人之手，这一点我比较认可我以前在小米所在的团队。但是来了头条后，第一天打开代码库看到那些代码我甚至有了想离职的冲动。杂乱的目录结构、千奇百怪的编码风格、一个工程多种框架、多种语言、参差不齐的代码质量、数不清的 lint 报错，那段时间我很多时候在想这个玩意儿是怎么跑起来的？从一个编码规范的团队到一个几乎没有规范的团队，这个过渡过程太痛苦了。我花了很长一段时间才适应过来，那段时间我用得最多的 git 命令就是 `git blame` 看看这个代码是在什么时候谁写的。  


随着对业务的了解逐渐加深，我看到一些工程其实已经是 2、3 年前的，经手的一些人我也会看看他们还在不在公司，现在在那个职位上。我逐步认识到写出这样的代码并不一定是当时那个人技术水平很菜，我看一些历史悠久的代码有其他端的同学来写的，也有一两天完成的。所以造成现在这样并不是某个前人的责任。在头条几年前还是一个小的创业公司，听说之前前端工程师不够，一些代码后端的工程师也来参与，开发节奏很快，一两周迭代完成一个项目。所以不要在不了解背景的前提下喷前人的代码有多烂。

根本没有完美的架构。很多人试图在项目初期就去设计所谓完美的架构，以后代码的横纵扩展都没有问题，刚开始的时候可能大家都会认为现在这样的设计是合理的。但是实际上不存在这样的设计，架构是逐渐演进的，随着迭代会逐渐的改变，以前的设计永远只能是适用于当下及未来一小段时间的业务场景。所以看到以前的代码觉得设计得一团糟，那也只是你站在现在的角度看历史而已。

能看懂这些代码也是一种能力，能很好的重构掉它们更是一种能力。以前的代码难以阅读，所以你必须要非常小心的去动它们。当然我并不推荐一上去就重构掉它们，因为去理解它们的业务逻辑是很困难的，你需要花很多的时间去梳理，甚至是猜测它们究竟都干了些什么。还有可能现在的团队中根本没有人知道这些代码都做了些什么事，能不能删能不能改。但是当你弄明白了这些玩意都干了些什么，那么你将成为最熟悉这个模块的人，更加熟悉业务也会有助于提升你在团队中的位置。

学会尊重前人的劳动成果。这也是亚麻的信条之一，你没有任何理由去喷前人写的代码，至少它现在在线上 work 这么长一段时间，并为公司创造了价值。你并不清楚当时的人是不是被产品压榨用 1 天的时间写完了你觉得需要 1 周才能完成的工作量，这个在创业公司并不是罕见的。尊重前人的劳动成果，就像你也不希望几年后有新人看到你今天写的代码会说一句“这是一坨什么东西？”

有了以上的一些思考，现在我再也不会去喷前人写的代码怎么怎么样，而是想现在都已经这个样了，我能怎么办可以让它变得更好，让它向前而不是停留止步、倒退或是抱怨（因为抱怨你还是得来填这个坑，何必和自己过不去呢。



### 薛定谔的团队

在你没入职前你永远不知道是现在好还是新的环境更差。今年从小米离职，之前的团队离职的人也挺多的，也有和他们一些交流。大部分人离职其实就 2 个原因，要么是钱给得不够，要么是对当前的团队不爽。可能是对 leader 或者周围的人不爽，也可能是觉得现在的团队限制了自己未来的发展。恰好两个原因我都占。在换工作的过程中，我们肯定希望自己能够去一个对自己未来更好的团队。比如我当时就在想我一定要去一个技术比较好、工程师文化比较浓的技术团队，而不是每天都闷头写业务的团队。很多人都会这样想，以及当初我面试头条的时候终面面试官也就是我现在的 leader 就给我说，这个你放心我们这边技术氛围非常的浓，前沿技术 Flutter 什么的我们都在用，没有什么历史包袱...突然想起美团的面试官好像也是这么给我说的，就好像以前在小米我忽悠优秀的候选人来我们部门一样。



其实，在你没有亲身体验的时候你永远都不知道现在好还是未来更差。但是现在看来其实之前的团队和现在的团队都各有优劣。还有一个很大的误区就是其实中国大部分互联公司都是业务驱动的而不是技术驱动。

### 插入一段
上面的内容都是一个月以前写的，现在已经是 10 月 2 号了，为什么之前没有写完呢？因为 9 月份参与了部门的封闭开发，最近都一直在加班完全没有时间搞其他事情。最晚的一次凌晨 3 点多离开公司，有些同事因为一些特殊情况还在公司通宵了，国庆后面的几天我也会回到公司继续加班工作。上面提到的不要喷前人写的代码，因为你并不知道写这份代码的人当时是在什么环境下写出来的。前几天为了赶进度我们用一天一夜写完了一个功能很复杂也很重要的模块。这样的代码质量肯定也高不到哪里去，为什么要这个么干呢，不能慢一点吗？由于一些原因，时间就是生命，只能猛糙快了。


### 用数据说话
这一点很重要也很容易被忽视，尤其是我们做技术的。做了一个什么东西出来优化了什么什么性能、提升了什么什么效率。无论是在写 OKR 的时候还是做 PPT 比如晋升报告。提升了 xxx 这些大家都会写，但是直接这样都是非常空洞的，老板也无法评估这个具体的效果是怎么样，所以工作做完一件事的时候我们应该多留意这件事情的收益，需要的是具体的数据，比如做完一个优化后业务指标得到了 xxx 的提升。前端中可以是页面 TTI、FP 等对比业界指标已经达到一个什么样的水平。

